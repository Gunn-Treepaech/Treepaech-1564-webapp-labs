<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistics Calculator!</title>
    <link rel="stylesheet" href="/lab5/styles/styles.css">
</head>
<body>
    <script>
        let numIn = 0;
        let maxNum, minNum;

        const list = readInput();
        if (numIn != 0)  displayStats(list);

        function displayStats(listNum){
            if (numIn == 0){
                let msg = "For the list 0, the average is 0 "
                + ", the minimum is 0, and the maximum is 0";
                alert(msg);
            } else {
                maxMin(listNum);
                let aveNum = aveFunction(listNum);
                let msg = "For the list " + listNum + ", the average is "
                + aveNum.toFixed(2) + ", the minimum is " + minNum + ", and the maximum is "
                + maxNum ;
                alert(msg);
            }  
            return
        }

        function maxMin(listNum){
            maxNum = listNum[0];
            minNum = listNum[0];
            for (let i = 0; i < numIn - 1; i++){
                if (maxNum < listNum[i]) maxNum = listNum[i];
                if (minNum > listNum[i]) minNum = listNum[i];
            }
            return
        }

        function aveFunction(listNum){
            let sumNum = 0;
            for (let i = 0; i < numIn - 1; i++){
                sumNum += listNum[i];
            }
            return sumNum/(numIn - 1)
        }

        function checkType(data){
            if (isNaN(data)) return true;
        }

        function readInput(){
            let numberUser;
            const numBer = [], character = [];
            do {
                numberUser = prompt("Enter an integer (a negative integer to quit):");
                (checkType(numberUser) || numberUser < 0 ? character[numIn] = numberUser:numBer[numIn] = parseInt(numberUser));
                if (Number(numberUser) < 0 && numIn == 0){
                    displayStats(numBer);
                    break;
                }
                if (!checkType(numberUser))  numIn++;
            } while (numberUser >= 0 || isNaN(numberUser));
            return numBer
        }
    </script>
    <div class="htmlcode">
        <h2 style="text-align: center;">Statistics Calculator!</h2>
        <h1>Write the web app to prompt accepting for positive integers until the user enters a negative integer</h1>
        <br>
        <ul>
            <li><p>If the entered text is not a positive integer number, then the web app will keep asking for a number until the valid positive integer is entered</p></li>
            <li><p>If the entered text is a negative integer, then the web app will show the statistics (average, min, max) of all entered positive integers</p></li>
            <li><p>If the user enters a negative integer as the first integer, the average, the min, and the max is 0</p></li>
        </ul>
        <br>
        <h1>Note:</h1>
        <br>
        <p>1.You need to implement functions to check Whether an entered text is a positive integer or not and Whether an entered text is a negative integer or not</p>
        <p>2.You need to implement functions to compute average, min, and max of a list of integers</p>
    </div>
</body>
</html>